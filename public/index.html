<!DOCTYPE html>
<html lang="en">

<head>

</head>

<body>

    <input type="text" id="repository">
    <button onclick="postContent()">Enviar</button>

    <div id="teste"></div>
    <script>


        async function postContent() {
            const repository = document.getElementById('repository').value;

            const opt = {
                "method": "POST",
                "headers": {
                    "Content-Type": "application/json"
                },
                "body": JSON.stringify({
                    repository

                })
            }

            let sendData = await fetch('/search', opt);
            let dataReceived = await sendData.json();

            console.log(dataReceived);
        }

        getContent()


        async function getContent() {
            try {
                const response = await fetch('/search');
                const data = await response.json();
                console.log(data)
                show(data);
            }
            catch (error) {
                console.log(error.message);
                console.log('erro');
            }

        }






        function show(users) {
            let output = ''
            for (let user of users) {
                output += `<li>${user.name}<li>`
            }
            document.getElementById('teste').innerHTML = output

        }

    </script>
</body>

</html>